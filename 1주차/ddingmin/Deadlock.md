# Deadlock

## 데드락이란?
- 데드락이란 2개 이상의 프로세스 또는 스레드들이 서로의 자원을 기다리면서 영원히 진행되지 않는 상태를 의미합니다.

## 데드락의 발생 조건
1. 상호 배제(Mutual Exclusion): 자원은 한 번에 하나의 프로세스만 사용할 수 있다.
2. 점유 대기(Hold and Wait): 프로세스는 하나 이상의 자원을 보유하면서, 다른 자원을 기다리는 상태이다.
3. 비선점(No Preemption): 이미 점유된 자원을 다른 프로세스가 강제적으로 빼앗을 수 없다.
4. 원형 대기(Circular Wait): 프로세스 A, B, C가 존재할때 순서대로 A가 B의 자원을, B가 C의 자원을 C가 A의 자원을 기다리는 상태를 의미한다.

위 4가지 조건을 모두 만족할 경우 데드락이 발생하게 된다.

## 데드락 해결 방법.
1. 예방: 데드락의 발생 조건 중 하나라도 만족하지 않도록 하여 데드락을 발생하지 않도록 한다.
2. 회피: 데드락이 발생할 가능성을 파악하여 피하는 방법.
   - 은행원 알고리즘: 자원을 요청할 때 안전한 경우에만 자원을 할당한다. **요청 자원의 수가 남은 자원의 수 보다 적은 프로세스만 선택하여 수행한다.**
3. 검출 및 복구: 데드락이 발생하면 이를 검출하고, 해당 프로세스의 자원을 헤제하거나 프로세스 자체를 중지시켜 해결한다.
   - 검출: 그래프를 통해 원형 대기 상태의 사이클이 존재하는지 확인한다
   - 복구: 데드락 상태의 프로세스를 중지한다. 두 가지 방법으로 데드락에 걸린 모든 프로세스를 중지하거나, 데드락이 해결 될 때 까지 하나씩 프로세스를 중지하는 방법이 있다.
4. 무시: 데드락은 쉽게 발생하지 않고, 해결하기 위한 방법에서 더 큰 오버헤드를 소모하므로 대부분은 데드락을 무시하고, 발생할 때 재시작하는 방법을 사용한다.