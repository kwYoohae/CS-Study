## Dekker 알고리즘, Peterson 알고리즘

### Dekker’s algorithm

- 프로세스가 두 개일 때 상호 배제를 보장하는 최초의 알고리즘

```c
while(1) {               // 프로세스i의 진입 영역

  flag[i] = ture;        // 프로세스i가 임계구역에 진입하기 위해 진입을 알림

  while(flag[j]) {       // 프로세스j가 임계구역에 진입하려고 하는지 확인
    if (turn == j) {     // 프로세스j가 임계구역에 있다면
      flag[i] = flase;   // 프로세스i가 진입을 취소하고

      while (turn == j); // 프로세스i의 차례가 올 때까지 대기 함.

      flag[i] =ture;     // 차례가 넘어왔다면 진입을 알림.
    }
  }

	// critical section

  turn = j;              // 임계구역의 사용이 끝났다면 차례를 프로세스j에게 넘김.
  flag[i] = false;       // 진입을 취소하여 임계구역 사용완료를 알림.
}
```

### Peterson’s algorithm

- 프로세스가 두 개일 때 상호 배제를 보장하는 알고리즘
- **데커 알고리즘과 유사하지만 상대방에게 진입 기회를 양보한다는 차이가 있다**

```c
while(1) {                        // 프로세스i의 진입 영역

  flag[i] = ture;                 // 프로세스i가 임계구역에 진입하기 위해 진입을 알림.
  turn = j;                       // 프로세스j에게 진입을 양보함.
                                  //  (두 프로세스중 먼저 양보한쪽이 먼저 임계구역에 들어가게 됨.)
  while (flag[j] && turn = j);    // 프로세스i의 차례가 될 때까지 대기를 함.

	// critical section

  flag[i] = false                 // 임계구역 사용완료를 알림.

}
```

하지만 이러한 소프트웨어 솔루션들은 다음과 같은 문제점들이 존재한다.

- 속도가 느림
- 구현이 복잡함
- 바쁜 대기가 발생해 비효율적임