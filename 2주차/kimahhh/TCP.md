# TCP

Transmission Control Protocol

## 특징

### 연결 지향적

통신을 시작하기 전에 송신자와 수신자 간의 연결을 설정

**3-way handshake**

1. **SYN (Synchronize Sequence Numbers)**
    - 클라이언트는 서버에 연결을 요청하기 위해 SYN 패킷을 전송
    - 이 패킷은 초기 시퀀스 번호(예: x)를 포함
2. **SYN-ACK (Synchronize-Acknowledgment)**
    - 서버는 SYN 패킷을 받고, 클라이언트에게 연결 요청을 수락한다는 의미로 SyYN-ACK 패킷을 보냄
    - 이 패킷은 자신의 초기 시퀀스 번호(예: y)와 클라이언트의 시퀀스 번호에 1을 더한 값(x+1)을 ACK 번호로 사용하여 전송
3. **ACK(Acknowledgment)**
    - 클라이언트는 서버의 SYN-ACK 패킷을 받아들이고, 서버에세 ACK 패킷을 보냄
    - 이 패킷의 ACK 번호는 서버의 시퀀스 번호에 1을 더한 값 (y+1)으로 설정
    - 이 단계가 완료되면 연결이 공식적으로 설정되고, 데이터 전송이 시작

### 신뢰성 있는 전송

패킷의 손실, 중복, 지연 또는 순서 변경을 감지하고 이러한 오류를 복구하기 위한 메커니즘 제공

### 흐름 제어 (Flow Control)

송신자와 수신자 사이의 데이터 전송 속도를 조절하여 네트워크의 혼잡도나 수신자의 처리 능력 초과를 방지

**Sliding Window Protocol**

### 혼잡 제어 (Congestion Control)

네트워크 내의 혼잡을 감지하고 전송 속도를 조절하여 혼잡 붕괴를 방지

**Slow Start**

**Congestion Avoidance**

**Fast Retransmit**

**Fast Recovery**

**RTO(Retransmission Timeout)과 Backoff**

### 순서 보장

데이터가 올바른 순서로 도착하도록 보장

패킷이 순서대로 도착하지 않으면 재정렬

**Sequence Number**

### 오류 검출

TCP 헤더에 체크섬이 포함되어 있어 데이터 전송 중 발생할 수 있는 오류 감지

## UDP (User Datagram Protocol)

### 공통점

1. 전송 계층 프로토콜
    - 둘 다 OSI 모델의 전송 계층에서 작동
2. IP와 함께 사용
    - 둘 다 IP(Internet Protocol)와 결합하여 인터넷을 통해 데이터를 전송하는 데 사용
3. 포트 번호 사용
    - 송신자와 수신자의 응용 프로그램을 식별하기 위해 포트 번호 사용

### 차이점

1. 신뢰성
    - TCP: 신뢰성 있는 데이터 전송을 보장 / 패킷 손실, 순서 변경, 중복 등의 문제를 자동으로 처리
    - UDP: 신뢰성 있는 전송 보장 X / 패킷 손실이나 순서 변경이 발생하면 응용 프로그램이 처리해야 함
2. 연결 설정
    - TCP: 연결 지향적 / 데이터 전송 전에 송신자와 수신자 간의 연결 설정 과정(3-way handshake)이 필요
    - UDP: 연결이 설정되지 않는 연결 없는 프로토콜 / 송신자는 수신자에게 데이터를 직접 전송
3. 속도
    - TCP: 흐름 제어, 혼잡 제어, 오류 복구 기능으로 인해 상대적으로 느림
    - UDP: 오버헤드가 덜 발생하므로 상대적으로 빠름
4. 헤더 크기
    - TCP: 더 큰 헤더를 가지며, 신뢰성과 흐름 제어 관련 정보가 포함
    - UDP: 헤더가 간단하고 작으며, 최소한의 정보만 포함
5. 오류 검출 및 복구
    1. TCP: 체크섬 및 순서 정보를 사용하여 오류를 검출하고 복구
    2. UDP: 기본 체크섬만 제공하므로 오류 복구 기능 제한적
6. 사용 사례
    - TCP: 웹 브라우징, 이메일, 파일 전송 등 신뢰성 있는 데이터 전송이 필요한 응용 프로그램
    - UDP: 스트리밍 미디어, VoIP, 온라인 게임 등 신속하고 연속적인 데이터 전송이 중요한 응용 프로그램