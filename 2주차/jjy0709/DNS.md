## DNS의 정의와 DNS 레코드의 종류

### DNS
**정의**
- 사용자가 숫자로 된 인터넷 프로토콜 주소 대신 인터넷 도메인 이름과 검색 가능한 URL을 사용하여 웹 사이트에 접속하는 것
  </br>-> 93.184.216.34 대신 www.example.com 등으로 사용하는 것
- 전화번호부와 유사하게 생각할 수 있다. 번호를 기억하는 대신 이름으로 저장한 뒤 이름을 검색하여 전화하는 것

++) FQDN(Fully Qualified Domain Name)을 인터넷 프로토콜인 IP로 바꿔주는 시스템

**종류**
- 퍼블릭 DNS
  - 일반적으로 ISP(Internet Service Provider)가 기업에 IP 레코드 제공
  - 이 레코드는 일반 대중에게 제공되며, 사용중인 디바이스나 네트워크에 상관없이 누구나 접근 가능
- 프라이빗 DNS
  - 회사의 방화벽 뒤에 존재, 내부 사이트의 레코드 만을 보관
  - 내부 사이트 및 사용되는 서비스의 IP 주소를 기억하는 것으로 제한, 외부에서 접근 불가

**작동 방식**
1. 사용자가 도메인 이름 또는 URL을 브라우저에 입력
2. 로컬 DNS 서버(로컬 운영 체제나 인터넷 서비스 제공업체가 제공)로 쿼리 전송
   * 재귀 확인자: 클라이언트와 DNS 사이의 중개자, 쿼리된 네임서버 정보를 요청하거나 수신
3. 쿼리가 루트 네임서버로 전달. 루트 네임서버는 검색된 도메인 이름의 확장자를 기반으로 적절한 TLD 네임 서버로 응답
   * TLD 네임 서버: .com, .net, .edu, .gov와 같은 일반적인 확장자로 끝나는 URL에 대한 모든 정보 보관
4. 그 후 계층적으로 하위 네임서버에 쿼리를 요청하여 IP 주소를 매핑한다.

**DNS 레코드**
- DNS 상에서 도메인에 관한 설정을 하기 위해 사용되는 일련의 문자들
- DNS에 받은 요청을 어떻게 처리할 것인지에 대한 정보
- 종류
  - A
    - IP 주소와 도메인 주소 매핑 시 사용
    - 하나의 도메인에 여러 IP 주소 등록 가능
  - AAA
    - A의 확장형
    - 도메인에 IPv6 주소가 매핑
  - CNAME
    - 도메인 별명 레코드. Alias: 기존 도메인에 별명을 붙인 레코드
    - ex) s3의 도메인 네임에 CNAME을 설정하여 s3.~~ 부분 없이 버킷이름으로 접근할 수 있다.
  - MX
    - 메일 서버 레코드
    - 해당 도메인과 연동되어 있는 메일 서버를 확인하는 데 사용
    - 메일을 수신할 서버를 지정해주는 값
    - ex) naver.com -> 10:mx1.naver.com, 10:mx2.naver.com 등등
  - NS
    - 네임서버 레코드
    - 도메인에 대한 네임서버의 권한을 가지고 있는지 알려주는 레코드
    - ex) naver.com -> e-ns.naver.com, ns1.naver.com 등
  - PTR
    - IP 주소에 대한 도메인 주소를 확인할 수 있는 레코드
  - SOA
    - 도메인의 정보를 가지고 있는 레코드
    - 마스터 네임서버, 존 관리자 연락처, 존 데이터 동기화 시간, 갱신주기 등의 정보
  - TXT
    - 텍스트를 입력할 수 있는 레코드
    - 주로 메모를 남기는 레코드?
  - CAA
    - 도메인 인증기관에 관한 레코드
- 확인 방법
  - nslookup: 명령과 함께 query 옵션 설정
  - whatmydns.net


**참고자료**
- https://www.ibm.com/kr-ko/topics/dns
- https://goldsony.tistory.com/148
- https://help.worksmobile.com/kr/administrator/registration/verify-domain/what-is-dns-record/